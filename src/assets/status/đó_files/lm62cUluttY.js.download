;/*FB_PKG_DELIM*/

__d("$applyHeadingTemplateIfTextEmpty",["Lexical","LexicalRichText","LexicalText"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!d("LexicalText").$isRootTextContentEmpty(!1,!1))return;var a=d("Lexical").$getRoot();a.clear();a.append(new h("h1"))}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}a.getType=function(){return"initial-heading"};a.clone=function(b){return new a(b.__tag,b.__key)};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{type:a.getType()})};return a}(d("LexicalRichText").HeadingNode);g.$applyHeadingTemplateIfTextEmpty=a;g.InitialHeadingNode=h}),98);
__d("ComposerRichTextInlineStylesPopoverForLexical.react",["CometContextualLayer.react","CometRow.react","Lexical","LexicalComposerContext","Locale","react","react-compiler-runtime","stopPropagation","stylex","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useLayoutEffect,m=b.useRef,n=b.useState,o={popover:{backgroundColor:"x9bbmet",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x6kw84z",columnGap:"x17zd0t2",display:"x78zum5",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",position:"x1n2onr6",transform:"xuuh30",$$css:!0},popoverRTL:{transform:"xitnhlw",$$css:!0}};function p(){var a=window.getSelection();if(a===null)return null;var b=a.anchorNode,c=a.anchorOffset,d=a.focusNode,e=a.focusOffset;if(b===null||d===null||a.isCollapsed)return null;a=document.createRange();var f=b.compareDocumentPosition(d)===Node.DOCUMENT_POSITION_FOLLOWING;f?(a.setStart(b,c),a.setEnd(b,c)):(a.setStart(d,e),a.setEnd(d,e));return a}function q(){var a=d("react-compiler-runtime").c(5),b=d("LexicalComposerContext").useLexicalComposerContext(),c=b[0],e=m(null);b=n(0);var f=b[0],g=b[1],h;a[0]!==c?(b=function(){e.current=p();return c.registerUpdateListener(function(){e.current=p(),g(r)})},h=[c,e],a[0]=c,a[1]=b,a[2]=h):(b=a[1],h=a[2]);k(b,h);b=""+f;a[3]!==b?(h=[e,b],a[3]=b,a[4]=h):h=a[4];return h}function r(a){return a+1}function a(a){var b=d("react-compiler-runtime").c(31),e=a.editor,f=a.refs;a=a.richTextInlineStyleOptions;var g=c("useComposerViewStateDispatcher")(),i=c("Locale").isRTL(),m=n(!1),p=m[0],r=m[1];m=n(!1);var t=m[0],u=m[1];m=q();var v=m[0];m=m[1];var w;b[0]!==e?(w=function(){return e.registerUpdateListener(function(a){a=a.editorState;a.read(function(){var a=d("Lexical").$getSelection(),b=!1;if(d("Lexical").$isRangeSelection(a)&&!a.isCollapsed()){a=a.getNodes().filter(d("Lexical").$isTextNode);b=a.length>0}r(b)})})},b[0]=e,b[1]=w):w=b[1];var x;b[2]!==g||b[3]!==e||b[4]!==f.context?(x=[g,e,f.context],b[2]=g,b[3]=e,b[4]=f.context,b[5]=x):x=b[5];l(w,x);b[6]!==p?(g=function(){u(p)},w=[p],b[6]=p,b[7]=g,b[8]=w):(g=b[7],w=b[8]);l(g,w);b[9]!==e||b[10]!==f.popover?(x=function(){var a=function(a){var b;if(a.relatedTarget instanceof Node&&((b=f.popover.current)==null?void 0:b.contains(a.relatedTarget)))return;u(!1)};return e.registerRootListener(function(b,c){c!==null&&c.removeEventListener("blur",a),b!==null&&b.addEventListener("blur",a)})},g=[e,f.popover],b[9]=e,b[10]=f.popover,b[11]=x,b[12]=g):(x=b[11],g=b[12]);k(x,g);b[13]!==f.popover?(w=function(a){var b;if(a.relatedTarget instanceof Node&&((b=f.popover.current)==null?void 0:b.contains(a.relatedTarget)))return;u(!1)},b[13]=f.popover,b[14]=w):w=b[14];x=w;g=c("CometContextualLayer.react");w=!0;t=!t;var y="above",z=s;i=(h||(h=c("stylex"))).props(o.popover,i&&o.popoverRTL);var A;b[15]!==a?(A=j.jsx(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:0,verticalAlign:"center",children:a}),b[15]=a,b[16]=A):A=b[16];b[17]!==x||b[18]!==f.popover||b[19]!==i||b[20]!==A?(a=j.jsx("div",babelHelpers["extends"]({},i,{onBlur:x,ref:f.popover,children:A})),b[17]=x,b[18]=f.popover,b[19]=i,b[20]=A,b[21]=a):a=b[21];b[22]!==z||b[23]!==a?(x=j.jsx(z,{children:a}),b[22]=z,b[23]=a,b[24]=x):x=b[24];b[25]!==g||b[26]!==m||b[27]!==v||b[28]!==x||b[29]!==t?(i=j.jsx(g,{contextRef:v,disableAutoFlip:w,hidden:t,position:y,children:x},m),b[25]=g,b[26]=m,b[27]=v,b[28]=x,b[29]=t,b[30]=i):i=b[30];return i}function s(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=j.jsx("div",{onClick:c("stopPropagation"),onMouseUp:c("stopPropagation"),children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("composerIsRichTextEditingActiveForLexical",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.formattingType==="RICHTEXT"||a.formattingType==null}f["default"]=a}),66);
__d("geminiLexicalBlockStyleHelper",["Lexical","LexicalCode","LexicalList","LexicalRichText"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getNodes();return b.length===0?new Set([a.anchor.getNode().getParentOrThrow(),a.focus.getNode().getParentOrThrow()]):new Set(b.map(function(a){return d("Lexical").$isElementNode(a)?a:a.getParentOrThrow()}))}function h(a){var b=a.getNodes();if(b.length===0){var c,e=a.anchor.getNode();a=a.focus.getNode();return new Set([(c=e.getTopLevelElement())!=null?c:e.getParentOrThrow(),(c=a.getTopLevelElement())!=null?c:a.getParentOrThrow()])}return new Set(b.map(function(a){var b=a.getTopLevelElement();return d("Lexical").$isElementNode(b)?b:a.getParentOrThrow()}))}function i(a){if(d("Lexical").$isParagraphNode(a))return"p";if(d("LexicalRichText").$isHeadingNode(a)||d("LexicalList").$isListNode(a))return a.getTag();if(d("LexicalList").$isListItemNode(a))return"li";if(a.getType().includes("table"))return"table";if(d("LexicalCode").$isCodeNode(a))return"code";return a instanceof d("LexicalRichText").QuoteNode?"blockquote":null}function b(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a))return;return a}function c(a){var b=null;try{a=h(a)}catch(b){a=new Set()}for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=i(e);if(b==null)b=e;else if(b!==e)return null}switch(b){case null:return null;case"p":return"paragraph";case"h1":return"header-one";case"h2":return"header-two";case"blockquote":return"blockquote";case"ul":return"unordered-list-item";case"code":return"code-block";case"ol":return"ordered-list-item";default:return null}}g.$getElementNodesInSelection=a;g.$getTopLevelElementNodesInSelection=h;g.$getRangeSelection=b;g.$getActiveParagraphStyle=c}),98);
__d("useGeminiComposerRichTextBlockStyleFormattingForLexical.react",["Lexical","LexicalCode","LexicalList","LexicalRichText","LexicalSelection","geminiLexicalBlockStyleHelper","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(a,b){var c=d("react-compiler-runtime").c(12),e;c[0]!==b||c[1]!==a?(e=function(){return b.getEditorState().read(function(){var b=d("geminiLexicalBlockStyleHelper").$getRangeSelection();return b==null||d("geminiLexicalBlockStyleHelper").$getActiveParagraphStyle(b)!==a?!1:!0})},c[0]=b,c[1]=a,c[2]=e):e=c[2];e=j(e);var f=e[0],g=e[1];c[3]!==b||c[4]!==a?(e=function(){k(b,a)},c[3]=b,c[4]=a,c[5]=e):e=c[5];e=e;var h;c[6]!==b||c[7]!==a?(h=function(){return b.registerUpdateListener(function(b){b=b.editorState;b.read(function(){var b=d("geminiLexicalBlockStyleHelper").$getRangeSelection();if(b==null)return;g(d("geminiLexicalBlockStyleHelper").$getActiveParagraphStyle(b)===a)})})},c[6]=b,c[7]=a,c[8]=h):h=c[8];i(h);c[9]!==e||c[10]!==f?(h=[f,e],c[9]=e,c[10]=f,c[11]=h):h=c[11];return h}function k(a,b){switch(b){case"paragraph":case"unstyled":l(a,b,d("Lexical").$createParagraphNode);break;case"header-one":l(a,b,function(){return d("LexicalRichText").$createHeadingNode("h1")});break;case"header-two":l(a,b,function(){return d("LexicalRichText").$createHeadingNode("h2")});break;case"blockquote":l(a,b,d("LexicalRichText").$createQuoteNode);break;case"code-block":a.update(function(){var a=d("Lexical").$getSelection();if(d("Lexical").$isRangeSelection(a)&&d("geminiLexicalBlockStyleHelper").$getActiveParagraphStyle(a)!==b)if(a.isCollapsed())d("LexicalSelection").$setBlocksType(a,function(){return d("LexicalCode").$createCodeNode()});else{var c=a.getTextContent(),e=d("LexicalCode").$createCodeNode();a.insertNodes([e]);a=d("Lexical").$getSelection();d("Lexical").$isRangeSelection(a)&&a.insertRawText(c)}});break;case"unordered-list-item":m(a,b,d("LexicalList").INSERT_UNORDERED_LIST_COMMAND,d("LexicalList").REMOVE_LIST_COMMAND);break;case"ordered-list-item":m(a,b,d("LexicalList").INSERT_ORDERED_LIST_COMMAND,d("LexicalList").REMOVE_LIST_COMMAND);break}}function l(a,b,c){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||d("geminiLexicalBlockStyleHelper").$getActiveParagraphStyle(a)===b)return;d("LexicalSelection").$wrapNodes(a,c)})}function m(a,b,c,e){var f=a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:d("geminiLexicalBlockStyleHelper").$getActiveParagraphStyle(a)});f===b?a.dispatchCommand(e,void 0):a.dispatchCommand(c,void 0)}g["default"]=a}),98);
__d("GroupsCometRichTextGenericBlockStyleButtonForLexical.react",["GroupsCometRichTextStyleButton.react","composerIsRichTextEditingActiveForLexical","react","react-compiler-runtime","useComposerViewStateDispatcher","useGeminiComposerRichTextBlockStyleFormattingForLexical.react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(12),e=a.blockStyle,f=a.editor,g=a.icon,h=a.isRichTextEditingActive;a=a.label;e=c("useGeminiComposerRichTextBlockStyleFormattingForLexical.react")(e,f);var j=e[0],k=e[1];e=c("useGeminiComposerRichTextBlockStyleFormattingForLexical.react")("unstyled",f);var l=e[1],m=c("useComposerViewStateDispatcher")();b[0]!==k||b[1]!==m?(f=function(){k(),m({type:"set_editor_format_type_to_rich_text"})},b[0]=k,b[1]=m,b[2]=f):f=b[2];e=f;b[3]!==l||b[4]!==m?(f=function(){l(),m({type:"set_editor_format_type_to_plain_text"})},b[3]=l,b[4]=m,b[5]=f):f=b[5];f=f;h=!h;f=j?f:e;b[6]!==g||b[7]!==j||b[8]!==a||b[9]!==h||b[10]!==f?(e=i.jsx(c("GroupsCometRichTextStyleButton.react"),{disabled:h,icon:g,isActive:j,label:a,onPress:f}),b[6]=g,b[7]=j,b[8]=a,b[9]=h,b[10]=f,b[11]=e):e=b[11];return e}b=c("withComposerViewStatePart")(a,function(a){return{isRichTextEditingActive:c("composerIsRichTextEditingActiveForLexical")(a)}});g["default"]=b}),98);
__d("useGeminiComposerRichTextInlineStyleFormattingForLexical.react",["Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(a,b){var c=d("react-compiler-runtime").c(15),e;c[0]!==a?(e=function(b){return b.read(function(){var b=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(b)?!1:k(a,b)})},c[0]=a,c[1]=e):e=c[1];var f=e;c[2]!==b||c[3]!==f?(e=function(){return f(b.getEditorState())},c[2]=b,c[3]=f,c[4]=e):e=c[4];e=j(e);var g=e[0],h=e[1];c[5]!==b||c[6]!==a?(e=function(){b.dispatchCommand(d("Lexical").FORMAT_TEXT_COMMAND,a)},c[5]=b,c[6]=a,c[7]=e):e=c[7];e=e;var l,m;c[8]!==b||c[9]!==f?(l=function(){return b.registerUpdateListener(function(a){a=a.editorState;a=f(a);h(a)})},m=[b,f],c[8]=b,c[9]=f,c[10]=l,c[11]=m):(l=c[10],m=c[11]);i(l,m);c[12]!==g||c[13]!==e?(l=[g,e],c[12]=g,c[13]=e,c[14]=l):l=c[14];return l}function k(a,b){if(b.isCollapsed())return b.hasFormat(a);b=b.getNodes().filter(d("Lexical").$isTextNode);return b.length>0&&b.every(function(b){return d("Lexical").$isTextNode(b)?b.hasFormat(a):!0})}g["default"]=a}),98);
__d("GroupsCometRichTextGenericInlineStyleButtonForLexical.react",["GroupsCometRichTextStyleButton.react","composerIsRichTextEditingActiveForLexical","react","react-compiler-runtime","useComposerViewStateDispatcher","useGeminiComposerRichTextInlineStyleFormattingForLexical.react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(12),e=a.editor,f=a.icon,g=a.inlineStyle,h=a.isRichTextEditingActive;a=a.label;g=c("useGeminiComposerRichTextInlineStyleFormattingForLexical.react")(g,e);e=g[0];var j=g[1],k=c("useComposerViewStateDispatcher")();b[0]!==k||b[1]!==j?(g=function(){j(),k({type:"set_editor_format_type_to_rich_text"})},b[0]=k,b[1]=j,b[2]=g):g=b[2];g=g;var l;b[3]!==k||b[4]!==j?(l=function(){j(),k({type:"set_editor_format_type_to_plain_text"})},b[3]=k,b[4]=j,b[5]=l):l=b[5];l=l;h=!h;l=e?l:g;b[6]!==f||b[7]!==e||b[8]!==a||b[9]!==h||b[10]!==l?(g=i.jsx(c("GroupsCometRichTextStyleButton.react"),{disabled:h,icon:f,isActive:e,label:a,onPress:l}),b[6]=f,b[7]=e,b[8]=a,b[9]=h,b[10]=l,b[11]=g):g=b[11];return g}b=c("withComposerViewStatePart")(a,function(a){return{isRichTextEditingActive:c("composerIsRichTextEditingActiveForLexical")(a)}});g["default"]=b}),98);
__d("CometComposerRichTextStylesPopoverForLexical.react",["fbt","ix","CometRowItem.react","ComposerRichTextInlineStylesPopoverForLexical.react","GroupsCometRichTextGenericBlockStyleButtonForLexical.react","GroupsCometRichTextGenericInlineStyleButtonForLexical.react","fbicon","react","react-compiler-runtime","useGeminiComposerRichTextNodeRefs"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.editor;a=a.richTextOptions;var f=c("useGeminiComposerRichTextNodeRefs")();if(b[0]!==a){var g;g=(g=a)!=null?g:["BOLD","ITALIC","DIVIDER","H1","H2","BLOCKQUOTE","DIVIDER","UNORDERED_LIST","ORDERED_LIST"];b[0]=a;b[1]=g}else g=b[1];if(b[2]!==e||b[3]!==g){b[5]!==e?(a=function(a,b){switch(a){case"BOLD":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericInlineStyleButtonForLexical.react"),{editor:e,icon:d("fbicon")._(i("516728"),20),inlineStyle:"bold",label:h._(/*BTDS*/"__JHASH___yiQlqGmiyJ__JHASH__")})},"bold");case"ITALIC":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericInlineStyleButtonForLexical.react"),{editor:e,icon:d("fbicon")._(i("516737"),20),inlineStyle:"italic",label:h._(/*BTDS*/"__JHASH__2p36swBIZG7__JHASH__")})},"italic");case"H1":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericBlockStyleButtonForLexical.react"),{blockStyle:"header-one",editor:e,icon:d("fbicon")._(i("527401"),20),label:h._(/*BTDS*/"__JHASH__uo9i__fDEQB__JHASH__")})},"h1");case"H2":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericBlockStyleButtonForLexical.react"),{blockStyle:"header-two",editor:e,icon:d("fbicon")._(i("527415"),20),label:h._(/*BTDS*/"__JHASH__YehNqilLAKZ__JHASH__")})},"h2");case"BLOCKQUOTE":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericBlockStyleButtonForLexical.react"),{blockStyle:"blockquote",editor:e,icon:d("fbicon")._(i("560139"),20),label:h._(/*BTDS*/"__JHASH__4E3LRQcCtNu__JHASH__")})},"blockquote");case"UNORDERED_LIST":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericBlockStyleButtonForLexical.react"),{blockStyle:"unordered-list-item",editor:e,icon:d("fbicon")._(i("486354"),20),label:h._(/*BTDS*/"__JHASH__eSLMxLhCOIC__JHASH__")})},"unordered-list-item");case"ORDERED_LIST":return k.jsx(c("CometRowItem.react"),{children:k.jsx(c("GroupsCometRichTextGenericBlockStyleButtonForLexical.react"),{blockStyle:"ordered-list-item",editor:e,icon:d("fbicon")._(i("498882"),20),label:h._(/*BTDS*/"__JHASH__OLFw-H7GD7L__JHASH__")})},"ordered-list-item");case"DIVIDER":return k.jsx(c("CometRowItem.react"),{children:k.jsx("div",{className:"x8cjs6t x1ch86jh x80vd3b xckqwgs x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x1qx5ct2 xr9ek0c xfs2ol5 xjpr12u x12mruv9"})},"divider-"+b)}},b[5]=e,b[6]=a):a=b[6];a=g.map(a);b[2]=e;b[3]=g;b[4]=a}else a=b[4];g=a;b[7]!==e||b[8]!==g||b[9]!==f?(a=k.jsx(c("ComposerRichTextInlineStylesPopoverForLexical.react"),{editor:e,refs:f,richTextInlineStyleOptions:g}),b[7]=e,b[8]=g,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("GeminiComposerMarkdownLocalStorageSettings",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="geminiComposerMarkdownSprout";function a(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();if(a){a=a.getItem(i);if(a!=null)return a==="true"}return!1}function b(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,a?"true":"false")}g.getComposerMarkdownSettingFromStorage=a;g.saveComposerMarkdownSettingToStorage=b}),98);
__d("LexicalHorizontalRuleNode",["cr:1949"],(function(a,b,c,d,e,f){e.exports=b("cr:1949")}),null);
__d("mlcMarkdownTransformers",["Lexical","LexicalCode","LexicalHorizontalRuleNode","LexicalLink","LexicalList","LexicalRichText"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b,c,d){d=a(d);d.append.apply(d,c);b.replace(d);d.select(0,0)}};var h=4;b=function(a){return function(b,c,e){var f=b.getPreviousSibling(),g=d("LexicalList").$createListItemNode();if(d("LexicalList").$isListNode(f)&&f.getListType()===a)f.append(g),b.remove();else{f=d("LexicalList").$createListNode(a,a==="number"?Number(e[2]):void 0);f.append(g);b.replace(f)}g.append.apply(g,c);g.select(0,0);b=Math.floor(e[1].length/h);b&&g.setIndent(b)}};var i=function a(b,c,e){var f=[],g=b.getChildren(),i=0;for(var g=g,j=Array.isArray(g),k=0,g=j?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=g.length)break;l=g[k++]}else{k=g.next();if(k.done)break;l=k.value}l=l;if(d("LexicalList").$isListItemNode(l)){if(l.getChildrenSize()===1){var m=l.getFirstChild();if(d("LexicalList").$isListNode(m)){f.push(a(m,c,e+1));continue}}m=" ".repeat(e*h);var n=b.getTag()==="ul"?"- ":b.getStart()+i+". ";f.push(m+n+c(l));i++}}return f.join("\n")};c={"export":function(a,b){if(!d("LexicalRichText").$isHeadingNode(a))return null;var c=Number(a.getTag().slice(1));return"#".repeat(c)+" "+b(a)},regExp:/^(#{1,6})\s/,replace:a(function(a){a="h"+a[1].length;return d("LexicalRichText").$createHeadingNode(a)}),type:"block-match"};e={"export":function(){return null},regExp:/^$/,replace:function(a){var b=a.getPreviousSibling();d("LexicalRichText").$isQuoteNode(b)&&a.remove()},type:"block-match"};f={"export":function(a,b){return d("LexicalRichText").$isQuoteNode(a)?b(a).split("\n").map(function(a){return"> "+a}).join("\n")+"\n":null},regExp:/^>\s/,replace:function(a,b,c,e){c=a.getPreviousSibling();if(e&&d("LexicalRichText").$isQuoteNode(c))c.append.apply(c,[d("Lexical").$createLineBreakNode()].concat(b)),a.remove();else{e=d("LexicalRichText").$createQuoteNode();e.append.apply(e,b);a.replace(e);e.select(0,0)}},type:"block-match"};a={"export":function(a,b){if(!d("LexicalCode").$isCodeNode(a))return null;b=b(a);return"```"+(a.getLanguage()||"")+(b?"\n"+b:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:a(function(a){return d("LexicalCode").$createCodeNode(a?a[1]:void 0)}),type:"block-match"};var j={"export":function(a,b){return d("LexicalList").$isListNode(a)?i(a,b,0):null},regExp:/^(\s*)[-*+]\s/,replace:b("bullet"),type:"block-match"};b={"export":function(a,b){return d("LexicalList").$isListNode(a)?i(a,b,0):null},regExp:/^(\s*)(\d{1,})\.\s/,replace:b("number"),type:"block-match"};var k={"export":function(a){return d("LexicalHorizontalRuleNode").$isHorizontalRuleNode(a)?"***":null},regExp:/^(---|\*\*\*|___)\s?$/,replace:function(a,b,c,e){b=d("LexicalHorizontalRuleNode").$createHorizontalRuleNode();e||a.getNextSibling()!=null?a.replace(b):a.insertBefore(b);b.selectNext()},type:"block-match"},l=[c,f,a,j,b,k],m=[{format:["code"],tag:"`",type:"format"},{format:["bold","italic"],tag:"***",type:"format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"format"},{format:["bold"],tag:"**",type:"format"},{format:["bold"],intraword:!1,tag:"__",type:"format"},{format:["strikethrough"],tag:"~~",type:"format"},{format:["italic"],intraword:!1,tag:"_",type:"format"},{format:["italic"],tag:"*",type:"format"}];function n(a){return a.replace(/\)/g,"%29")}function o(a){return a.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/\]/g,"\\]")}var p=[{"export":function(a,b,c){if(!d("LexicalLink").$isLinkNode(a))return null;b=n(a.getURL());var e=o(a.getTextContent());e="["+e+"]("+b+")";b=a.getFirstChild();if(a.getChildrenSize()===1&&d("Lexical").$isTextNode(b))return c(b,e);else return e},importRegExp:/(?:\[([^[]+)\])(?:\(([^(]+)\))/,regExp:/(?:\[([^[]+)\])(?:\(([^(]+)\))$/,replace:function(a,b){var c=b[1];b=b[2];b=d("LexicalLink").$createLinkNode(b);c=d("Lexical").$createTextNode(c);c.setFormat(a.getFormat());b.append(c);a.replace(b)},trigger:")",type:"text-match"}],q=[l,m,p];g.HEADING=c;g.EMPTY_PARAGRAPH_AFTER_QUOTE=e;g.QUOTE=f;g.CODE=a;g.UNORDERED_LIST=j;g.ORDERED_LIST=b;g.HR=k;g.BLOCK_TRANSFORMERS=l;g.TEXT_FORMAT_TRANSFORMERS=m;g.TEXT_MATCH_TRANSFORMERS=p;g.DEFAULT_TRANSFORMERS=q}),98);
__d("GeminiMarkdownTransformers",["CometLexicalGenericEntityNode","cr:3946","filterNulls","mlcMarkdownTransformers"],(function(a,b,c,d,e,f,g){"use strict";f=(e=b("cr:3946"))!=null?e:{};var h=f.$createCometLexicalGenericLinkNode,i=f.$isCometLexicalGenericLinkNode;function j(a){return a.replace(/[\\\]:]/g,function(a){return"\\"+a})}function a(a,b){a=h!=null&&i!=null?{"export":function(a,b){if(!i(a))return null;b=a.__args.url;a=j(a.__args.text);a="["+a+"]("+b+")";return a},importRegExp:a,regExp:b,replace:function(a,b){var c=b[1];b=b[2];a.replace(h({text:c,url:b,isConvertingFromMarkdown:!0,isInEditMode:!0}))},trigger:")",type:"text-match"}:void 0;return a}b={"export":function(a,b,c){if(!d("CometLexicalGenericEntityNode").$isCometLexicalGenericEntityNode(a))return null;if(a.getEntityType()!=="Actor")return null;b=j(a.getTextContent());return c(a,"@["+a.getID()+":"+b+"]")},importRegExp:/@\[(\d+):([^\]]+?)\]/,regExp:/@\[(\d+):([^\]]+?)\]$/,replace:function(a,b){a.replace(d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:b[1],text:b[2],type:"Actor"}))},trigger:"]",type:"text-match"};e=a(/(?:\[([^[]+)\])(?:\((?=.*deltoid3metricmovement)([^(]+)\))/,/(?:\[([^[]+)\])(?:\((?=.*deltoid3metricmovement)([^(]+)\))$/);f=c("filterNulls")([e]);a=[d("mlcMarkdownTransformers").BLOCK_TRANSFORMERS,d("mlcMarkdownTransformers").TEXT_FORMAT_TRANSFORMERS,[b].concat(f,d("mlcMarkdownTransformers").TEXT_MATCH_TRANSFORMERS)];c=[[d("mlcMarkdownTransformers").EMPTY_PARAGRAPH_AFTER_QUOTE].concat(d("mlcMarkdownTransformers").BLOCK_TRANSFORMERS),d("mlcMarkdownTransformers").TEXT_FORMAT_TRANSFORMERS,[b].concat(f,d("mlcMarkdownTransformers").TEXT_MATCH_TRANSFORMERS)];f=[d("mlcMarkdownTransformers").BLOCK_TRANSFORMERS,d("mlcMarkdownTransformers").TEXT_FORMAT_TRANSFORMERS,d("mlcMarkdownTransformers").TEXT_MATCH_TRANSFORMERS];g.MENTION=b;g.DELTOID_METRIC_MOVEMENT=e;g.RICH_TEXT_TO_MARKDOWN_TRANSFORMERS=a;g.MARKDOW_TO_RICH_TEXT_TRANSFORMERS=c;g.MARKDOWN_SHORTCUTS_TRANSFORMERS=f}),98);
__d("mlcFromMarkdown_DEPRECATED",["Lexical","LexicalCode"],(function(a,b,c,d,e,f,g){"use strict";var h=/^```(\w{1,10})?\s?$/,i=/[!-/:-@[-`{-~\s]/;function a(a,b,c){var e=o(b);return function(b){b=b.split("\n");var f=b.length,g=d("Lexical").$getRoot();g.clear();for(var h=0;h<f;h++){var i=b[h],l=k(b,h,g,e),m=l[0];l=l[1];if(m!=null){h=l;continue}j(i,g,a,e,c)}g.selectEnd()}}function j(a,b,c,e,f){var g=d("Lexical").$createTextNode(a),h=d("Lexical").$createParagraphNode();h.append(g);b.append(h);for(b=0;b<c.length;b++){var i=c[b],j=i.regExp;i=i.replace;j=a.match(j);if(j){g.setTextContent(a.slice(j[0].length));i(h,[g],j,!0);break}}l(g,e,f)}function k(a,b,c,e){var f=a[b].match(h);if(f){var g=b,i=a.length;while(++g<i){var j=a[g].match(h);if(j){j=d("LexicalCode").$createCodeNode(f[1]);var k=a.slice(b+1,g);for(var m=0;m<k.length;m++){var n=d("Lexical").$createTextNode(k[m]);j.append(n);l(n,e,[]);m<k.length-1&&j.append(d("Lexical").$createLineBreakNode())}c.append(j);return[j,g]}}}return[null,b]}function l(a,b,c){var d=a.getTextContent(),e=n(d,b);if(!e){m(a,c);return}var f;if(e[0]===d)d=a;else{var g=e.index,h=g+e[0].length;if(g===0){var i=a.splitText(h);d=i[0];f=i[1]}else{i=a.splitText(g,h);d=i[1];f=i[2]}}d.setTextContent(e[2]);a=b.transformersByTag[e[1]];if(a)for(g=a.format,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=g.length)break;e=g[i++]}else{i=g.next();if(i.done)break;e=i.value}a=e;d.hasFormat(a)||d.toggleFormat(a)}d.hasFormat("code")||l(d,b,c);f&&l(f,b,c)}function m(a,b){a=a;mainLoop:while(a){for(var c=0;c<b.length;c++){var d=b[c],e=a.getTextContent().match(d.importRegExp);if(!e)continue;var f=e.index,g=f+e[0].length,h;if(f===0){var i=a.splitText(g);h=i[0];a=i[1]}else{i=a.splitText(f,g);h=i[1];a=i[2]}d.replace(h,e);continue mainLoop}break}}function n(a,b){var c=a.match(b.openTagsRegExp);if(c==null)return null;for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=f.replace(/^\s/,"");var g=b.fullMatchRegExpByTag[f];if(g==null)continue;g=a.match(g);f=b.transformersByTag[f];if(g!=null&&f!=null){if(f.intraword!==!1)return g;f=g.index;var h=a[f-1];f=a[f+g[0].length];if((!h||i.test(h))&&(!f||i.test(f)))return g}}return null}function o(a){var b={},c={},d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.tag;b[g]=f;f=g.replace(/(\*|\^)/g,"\\$1");d.push(f);c[g]=new RegExp("("+f+")(?!["+f+"\\s])(.*?[^"+f+"\\s])"+f+"(?!"+f+")")}return{fullMatchRegExpByTag:c,openTagsRegExp:new RegExp("("+d.join("|")+")","g"),transformersByTag:b}}g.createMarkdownImport=a}),98);
__d("GeminiMarkdownToRichtextStateForLexical.react",["GeminiMarkdownTransformers","Lexical","mlcFromMarkdown_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("mlcFromMarkdown_DEPRECATED").createMarkdownImport.apply(void 0,d("GeminiMarkdownTransformers").MARKDOW_TO_RICH_TEXT_TRANSFORMERS);function a(a){var b=d("Lexical").$getRoot();h((a=a)!=null?a:b.getTextContent());return b.getChildren()}g.$getRichtextFromPlaintextMarkdownForLexical=a}),98);
__d("LexicalMarkdown",["cr:2906"],(function(a,b,c,d,e,f){e.exports=b("cr:2906")}),null);
__d("GroupsCometEditorForLexicalMarkdownTransformers",["LexicalMarkdown"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([[(b=d("LexicalMarkdown")).QUOTE,"blockquote"],[b.UNORDERED_LIST,"bullets"],[b.ORDERED_LIST,"numbered"],[b.HEADING,"heading1"],[b.HEADING,"heading2"]]);function a(a){return a==null?i:i.filter(function(b){return b.type!=="element"&&b.type!=="multiline-element"||a.includes(h.get(b))})}var i=[b.UNORDERED_LIST,b.ORDERED_LIST,b.QUOTE,b.HEADING];g.getTransformers=a;g.COMET_DEFAULT_TRANSFORMERS=i}),98);
__d("LexicalListPlugin",["cr:797"],(function(a,b,c,d,e,f){e.exports=b("cr:797")}),null);
__d("LexicalMarkdownShortcutPlugin",["cr:2907"],(function(a,b,c,d,e,f){e.exports=b("cr:2907")}),null);
__d("LexicalRichTextPlugin",["cr:781"],(function(a,b,c,d,e,f){e.exports=b("cr:781")}),null);
__d("geminiComposerLexicalEditorHasRichtext",["Lexical","LexicalUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.node;if(d("Lexical").$isRootOrShadowRoot(a)||d("Lexical").$isParagraphNode(a))return!1;return d("Lexical").$isTextNode(a)&&a.getFormat()===0?!1:!0}function a(a){return a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getChildrenSize(),b=d("Lexical").$getRoot().getFirstChild();if(b==null||a===0)return!1;a=a===1&&b.getType()==="initial-heading";return a?!1:d("LexicalUtils").$dfs().some(h)})}g["default"]=a}),98);
__d("cometComposerRichTextReducerForLexical.react",["geminiComposerLexicalEditorHasRichtext"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a.lexicalEditor==null)return a;switch(b.type){case"set_editor_format_type_to_rich_text":return a.formattingType==="RICHTEXT"?a:babelHelpers["extends"]({},a,{formattingType:"RICHTEXT"});case"set_editor_format_type_to_plain_text":b=c("geminiComposerLexicalEditorHasRichtext")(a.lexicalEditor);return b?a:a.formattingType===void 0?a:babelHelpers["extends"]({},a,{formattingType:void 0})}return a}g["default"]=a}),98);
__d("InlineStyleRange2Lexical",["Lexical2InlineStyleRange"],(function(a,b,c,d,e,f,g){"use strict";a=Object.keys(d("Lexical2InlineStyleRange").Lexical2InlineStyleRangeMap).reduce(function(a,b){var c=d("Lexical2InlineStyleRange").Lexical2InlineStyleRangeMap[b];a[c]=b;return a},{});b=a;g["default"]=b}),98);
__d("addTextToLexicalElementNode",["CometLexicalEmojiNode","CometLexicalGenericEntityNode","FBLogger","InlineStyleRange2Lexical","Lexical","LexicalHorizontalRuleNode","TableDataFieldType","cr:4078","cr:4917","cr:5039","gkx"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:4917")||{createGeminiLexicalCompanyCustomEmojiNode:null};var h=e.$createGeminiLexicalCompanyCustomEmojiNode;function i(a,b,c){c=c-b;a=a.substr(b,c);var e=a.split("\n");return e.reduce(function(a,b,c){c!==0&&a.push(d("Lexical").$createLineBreakNode());if((c===0||c===e.length-1)&&b.length===0)return a;a.push(d("Lexical").$createTextNode(b));return a},[])}function j(a,b){return a.offset===b.offset?a.length-b.length:a.offset-b.offset}function k(a,b){return Array.from(a.reduce(function(a,b){var c=b.length;b=b.offset;a.add(b);a.add(b+c);return a},new Set([0,b]))).sort(function(a,b){return a-b})}function l(a,b){var c=new Map();for(var d=0;d<b.length-1;d++)c.set(b[d],i(a,b[d],b[d+1]));return c}function m(a,b,e,f){e=e.get(b.offset);if(e==null)return;var g=function(e){var g=f[e-1];e=f[e];var h=b.offset,i=b.offset+b.length;if(i<=g||e<h)return{v:void 0};i=String(b.style!=null?b.style:"");var j=c("InlineStyleRange2Lexical")[i];e=a.get(g);j&&e&&e.length>0&&e.forEach(function(a){d("Lexical").$isTextNode(a)&&a.toggleFormat(j)})};for(e=e+1;e<f.length;e++){var h=g(e);if(typeof h==="object")return h.v}}function n(a,c){var e;e=(e=a.data)!=null?e:{};var f=e.id,g=e.type;e=e.url;switch(a.type){case"MENTION":return f==null?null:d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:f,text:"",type:g});case"LINK":return b("cr:5039")((a=(g=a.data)==null?void 0:g.url)!=null?a:"",c);case"HORIZONTAL_LINE":return d("LexicalHorizontalRuleNode").$createHorizontalRuleNode();case"WORK_CUSTOM_EMOJI":return f!=null&&e!=null&&h!=null?h("",f,e,d("CometLexicalEmojiNode").COMPOSER_EMOJI_SIZE_SMALL):null;default:return null}}function o(a,b,e,f,g){e=e[b.key.toString()];if(e==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: Entity does not exists in entityMap %s",b.key);return}var h=b.offset;f=f.get(h);b=b.offset+b.length;if(f==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: offsetIndexMap does not contains offset %s",h);return}h=[];for(f=f;g[f]<b;f++){var i=g[f];i=a.get(i);i!=null&&h.push(i)}i=n(e,h);if(i==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: Unsupported entity type %s",e==null?void 0:e.type);return}for(b=0;b<h.length;b++){f=h[b];if(c("gkx")("185")){f=(a=f)==null?void 0:a.filter(function(a){return a.getParent()!=null});if(f==null||f.length===0)continue}if(f!=null){i.getParent()==null&&f[0].replace(i);if(d("Lexical").$isElementNode(i))i.append.apply(i,f);else if(d("Lexical").$isTextNode(i)){g=f.map(function(a){return a.getTextContent()}).join();i.setTextContent(g)}}}}function p(a,b,c,d,e){var f=b.reduce(function(a,b,c){a.set(b,c);return a},new Map());c.forEach(function(c){m(a,c,f,b)});d.forEach(function(c){o(a,c,e,f,b)})}function a(a,c,e){var f=c.text,g=(c.inlineStyleRanges||[]).sort(j),h=(c.entityRanges||[]).sort(j),i=[].concat(g,h);if(b("cr:4078")&&c.type==="table"&&d("TableDataFieldType").isTableDataFieldType(c.data)){g=c.data;g&&g.rows.forEach(function(a){return i.push.apply(i,a)})}if(i.length===0){g=d("Lexical").$createTextNode(f);a.append(g);return}var m=k(i,f.length);if(b("cr:4078")&&c.type==="table"&&d("TableDataFieldType").isTableDataFieldType(c.data)){g=c.data;var n=0,o=0;g.rows.forEach(function(c){var g=b("cr:4078").$createTableRowNode();c.forEach(function(a){var c=b("cr:4078").$createTableCellNode(0),j=d("Lexical").$createParagraphNode();o=a.length+o;a=m.indexOf(o);var k=l(f,m.slice(n,a+1));k.forEach(function(a){return j.append.apply(j,a)});c.append(j);g.append(c);n=a;p(k,m,i,h,e)});a.append(g)})}else{c=l(f,m);c.forEach(function(b){return a.append.apply(a,b)});p(c,m,i,h,e)}}g["default"]=a}),98);
__d("convertFromRawToLexical",["Lexical","LexicalCode","LexicalList","LexicalRichText","RawUnicodeUtils","addTextToLexicalElementNode","cr:2091","cr:4078","cr:4642","cr:4956","filterNullsObjectMap"],(function(a,b,c,d,e,f,g){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a,c,d,e){for(var f=0;f<b.length;f++){var g=b[f];if(g!==null){g=g(a,c,d,e);if(g)return!0}}return!1}}function e(a){return function(b,d,e){var f=a();c("addTextToLexicalElementNode")(f,b,d);e.append(f);return!0}}function f(a){return function(b,e,f){var g;g=(g=b.depth)!=null?g:0;var i=f.getLastChild(),j=d("LexicalList").$createListItemNode();c("addTextToLexicalElementNode")(j,b,e);if(d("LexicalList").$isListNode(i)&&i.getListType()===a)i.append(j);else{b=h(f.getChildren(),a,g);e=b==null?void 0:b+1;i=d("LexicalList").$createListNode(a,e);i.append(j);f.append(i)}j.setIndent(g);return!0}}function h(a,b,c){if(c!==0)return void 0;for(c=a.length-1;c>=0;c--){var e=a[c];if(!d("LexicalList").$isListNode(e))return void 0;if(e.getIndent()===0&&e.getListType()===b)return e.getStart()}return void 0}var i=c("filterNullsObjectMap")({blockquote:e(function(){return d("LexicalRichText").$createQuoteNode()}),"code-block":e(function(){return d("LexicalCode").$createCodeNode()}),"header-five":e(function(){return d("LexicalRichText").$createHeadingNode("h5")}),"header-four":e(function(){return d("LexicalRichText").$createHeadingNode("h4")}),"header-one":e(function(){return d("LexicalRichText").$createHeadingNode("h1")}),"header-six":e(function(){return d("LexicalRichText").$createHeadingNode("h5")}),"header-three":e(function(){return d("LexicalRichText").$createHeadingNode("h3")}),"header-two":e(function(){return d("LexicalRichText").$createHeadingNode("h2")}),inline:a(b("cr:4642"),b("cr:4956"),b("cr:2091")),"ordered-list-item":f("number"),paragraph:e(function(){return d("Lexical").$createParagraphNode()}),table:b("cr:4078")==null?null:e(function(){return b("cr:4078").$createTableNode()}),"unordered-list-item":f("bullet")});function j(a,b,c){b.blocks.forEach(function(e){var f;e=d("RawUnicodeUtils").decodeRawBlockRangesToUTF8(e);f=(f=i[e.type])!=null?f:i.paragraph;f(e,b.entityMap,a,c)})}g.$appendRootNodeFromRaw=j}),98);
__d("convertFromRawToMarkdownLexical",["FBLogger","Lexical","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){a=(h||(h=d("UnicodeUtils"))).substring(a,b,c);var e=a.split("\n");return e.reduce(function(a,b,c){c!==0&&a.push(d("Lexical").$createLineBreakNode());if((c===0||c===e.length-1)&&b.length===0)return a;a.push(d("Lexical").$createTextNode(b));return a},[])}function j(a,b,c){var e=d("Lexical").$createParagraphNode();q(e,a,b);c.append(e)}function k(a,b){return a.offset===b.offset?a.length-b.length:a.offset-b.offset}function l(a,b){return Array.from(a.reduce(function(a,b){var c=b.length;b=b.offset;a.add(b);a.add(b+c);return a},new Set([0,b]))).sort(function(a,b){return a-b})}function m(a,b){var c=new Map();for(var d=0;d<b.length-1;d++)c.set(b[d],i(a,b[d],b[d+1]));return c}function n(a,b,d,e,f){var g=b.offset;d=d.get(g);b=b.offset+b.length;if(d==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: offsetIndexMap does not contains offset %s",g);return}g=[];for(d=d;e[d]<b;d++){var h=e[d];h=a.get(h);if(h==null||h.length===0)continue;f.getParent()==null&&h[0].replace(f);h=h.map(function(a){return a.getTextContent()}).join();g.push(h)}return g.join("")}function o(a,b,d,e,f){d=d[b.key.toString()];if(d==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: Entity does not exists in entityMap %s",b.key);return}switch(d.type){case"MENTION":return p(a,b,d,e,f);default:return null}}function p(a,b,e,f,g){e=(e=e.data)==null?void 0:e.id;if(e==null){c("FBLogger")("comet_lexical").mustfix("$applyEntities: mention is missing an id");return}var h=d("Lexical").$createTextNode();b=(a=n(a,b,f,g,h))!=null?a:"";h.setTextContent("@["+e+":"+b+"]")}function q(a,b,e){var f=b.text,g=(b.inlineStyleRanges||[]).sort(k);b=(b.entityRanges||[]).sort(k);var i=[].concat(g,b);if(i.length===0){var j=d("Lexical").$createTextNode(f);a.append(j);return}var n=l(i,(h||(h=d("UnicodeUtils"))).strlen(f)),p=n.reduce(function(a,b,c){a.set(b,c);return a},new Map()),q=m(f,n);q.forEach(function(b){return a.append.apply(a,b)});g.length>0&&c("FBLogger")("comet_lexical").mustfix("$addTextToLexicalElementNode: no inline style ranges expected in Markdown but got %d",g.length);b.forEach(function(a){o(q,a,e,p,n)})}function a(a,b){b.blocks.forEach(function(d){d.type!=="unstyled"&&d.type!=="paragraph"&&d.type!=null&&c("FBLogger")("comet_lexical").mustfix("$appendRootNodeFromRawMarkdown: unsupported block type found: %s",d.type),j(d,b.entityMap,a)})}g.$appendRootNodeFromRawMarkdown=a}),98);
__d("reformLexicalFromRaw",["$applyHeadingTemplateIfTextEmpty","GeminiComposerMarkdownLocalStorageSettings","GeminiMarkdownToRichtextStateForLexical.react","Lexical","ReactDOM","convertFromRawToLexical","convertFromRawToMarkdownLexical","createRawDraftContentState","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){d("GeminiMarkdownToRichtextStateForLexical.react").$getRichtextFromPlaintextMarkdownForLexical(b),d("Lexical").$getRoot().selectEnd(),d("ReactDOM").flushSync(function(){a({type:"disable_markdown"})}),d("GeminiComposerMarkdownLocalStorageSettings").saveComposerMarkdownSettingToStorage(!1)}function a(a,b){var e;e=(e=a.initialRawContentState)!=null?e:c("createRawDraftContentState")("");var f=d("Lexical").$getRoot();f.clear();if(a.formattingType==="MARKDOWN")if(c("gkx")("24568")){var g=e.blocks.map(function(a){return(a=a==null?void 0:a.text)!=null?a:""}).join("\n");h(b,g)}else d("convertFromRawToMarkdownLexical").$appendRootNodeFromRawMarkdown(f,e);else d("convertFromRawToLexical").$appendRootNodeFromRaw(f,e,a),c("gkx")("7947")&&d("$applyHeadingTemplateIfTextEmpty").$applyHeadingTemplateIfTextEmpty();f.selectEnd()}g.$switchMarkdownToRichtext=h;g.$reformLexicalFromRaw=a}),98);
__d("GroupsComposerRichTextPlugins.react",["CometComposerRichTextStylesPopoverForLexical.react","GroupsCometEditorForLexicalMarkdownTransformers","LexicalErrorBoundary","LexicalListPlugin","LexicalMarkdownShortcutPlugin","LexicalRichTextPlugin","cometComposerRichTextReducerForLexical.react","react","react-compiler-runtime","reformLexicalFromRaw","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useLayoutEffect;function a(a){var b=d("react-compiler-runtime").c(15),e=a.beginningViewState,f=a.contentEditable,g=a.editor;a=a.formattingType;var h=c("useComposerViewStateDispatcher")(),i,l;b[0]!==e||b[1]!==h||b[2]!==g?(i=function(){g.update(function(){(e.formattingType==="RICHTEXT"&&e.isEditingPreExistingStory===!0||e.groupWelcomePostData!=null)&&d("reformLexicalFromRaw").$reformLexicalFromRaw(e,h)})},l=[g,h,e],b[0]=e,b[1]=h,b[2]=g,b[3]=i,b[4]=l):(i=b[3],l=b[4]);k(i,l);c("useComposerViewStateReducer")(c("cometComposerRichTextReducerForLexical.react"));b[5]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(d("LexicalMarkdownShortcutPlugin").MarkdownShortcutPlugin,{transformers:d("GroupsCometEditorForLexicalMarkdownTransformers").COMET_DEFAULT_TRANSFORMERS}),b[5]=i):i=b[5];b[6]!==f?(l=j.jsx(d("LexicalRichTextPlugin").RichTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:f}),b[6]=f,b[7]=l):l=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("LexicalListPlugin").ListPlugin,{},"listPlugin"),b[8]=f):f=b[8];var m;b[9]!==g||b[10]!==a?(m=a!=="SATP"&&j.jsx(c("CometComposerRichTextStylesPopoverForLexical.react"),{editor:g}),b[9]=g,b[10]=a,b[11]=m):m=b[11];b[12]!==l||b[13]!==m?(a=j.jsxs(j.Fragment,{children:[i,l,f,m]}),b[12]=l,b[13]=m,b[14]=a):a=b[14];return a}b=c("withComposerViewStatePart")(a,function(a){return{formattingType:a.formattingType}});g["default"]=b}),98);
__d("useLexicalNodeSelection",["cr:2911"],(function(a,b,c,d,e,f){e.exports=b("cr:2911")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHorizontalRuleNode.prod",["Lexical","LexicalComposerContext","LexicalUtils","react","useLexicalNodeSelection"],(function $module_LexicalHorizontalRuleNode_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var _require_closure_react;var m=_require_closure_react||(_require_closure_react=require("react")),r=_require_closure_react;var t=require("Lexical").createCommand("INSERT_HORIZONTAL_RULE_COMMAND");
function u(_ref){var c=_ref.nodeKey;var _b$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),a=_b$useLexicalComposer[0],_f$useLexicalNodeSele=require("useLexicalNodeSelection").useLexicalNodeSelection(c),e=_f$useLexicalNodeSele[0],n=_f$useLexicalNodeSele[1],p=_f$useLexicalNodeSele[2],l=m.useCallback(function(d){var g=require("Lexical").$getSelection();e&&require("Lexical").$isNodeSelection(g)&&(d.preventDefault(),a.update(function(){g.getNodes().forEach(function(q){v(q)&&q.remove();});}));return!1;},[a,e]);m.useEffect(function(){var _require_Lexical;return require("LexicalUtils").mergeRegister(a.registerCommand((_require_Lexical=require("Lexical")).CLICK_COMMAND,function(d){var g=a.getElementByKey(c);return d.target===g?(d.shiftKey||p(),n(!e),!0):!1;},_require_Lexical.COMMAND_PRIORITY_LOW),a.registerCommand(_require_Lexical.KEY_DELETE_COMMAND,l,_require_Lexical.COMMAND_PRIORITY_LOW),
a.registerCommand(_require_Lexical.KEY_BACKSPACE_COMMAND,l,_require_Lexical.COMMAND_PRIORITY_LOW));},[p,a,e,c,l,n]);m.useEffect(function(){var d=a.getElementByKey(c);null!==d&&(e?require("LexicalUtils").addClassNamesToElement(d,"selected"):require("LexicalUtils").removeClassNamesFromElement(d,"selected"));},[a,e,c]);return null;}var
w=function(_k$DecoratorNode){babelHelpers.inheritsLoose(w,_k$DecoratorNode);function w(){return _k$DecoratorNode.apply(this,arguments)||this;}w.getType=function getType(){return"horizontalrule";};w.clone=function clone(c){return new w(c.__key);};w.importJSON=function importJSON(){return x();};w.importDOM=function importDOM(){return{hr:function hr(){return{conversion:y,priority:0};}};};var _proto=w.prototype;_proto.exportJSON=function exportJSON(){return{type:"horizontalrule",version:1};};_proto.exportDOM=function exportDOM(){return{element:document.createElement("hr")};};_proto.createDOM=function createDOM(c){var a=document.createElement("hr");require("LexicalUtils").addClassNamesToElement(a,c.theme.hr);return a;};_proto.getTextContent=function getTextContent(){return"\n";};_proto.isInline=function isInline(){return!1;};_proto.updateDOM=function updateDOM(){return!1;};_proto.decorate=function decorate(){return r.jsx(u,
{nodeKey:this.__key});};return w;}(require("Lexical").DecoratorNode);function y(){return{node:x()};}function x(){return require("Lexical").$applyNodeReplacement(new w());}function v(c){return c instanceof w;}exports.$createHorizontalRuleNode=x;exports.$isHorizontalRuleNode=v;exports.HorizontalRuleNode=w;exports.INSERT_HORIZONTAL_RULE_COMMAND=t;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalListPlugin.prod",["LexicalComposerContext","LexicalList","react"],(function $module_LexicalListPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var _require_closure_react;var d=_require_closure_react||(_require_closure_react=require("react"));function e(a){d.useEffect(function(){return require("LexicalList").registerList(a);},[a]);}exports.ListPlugin=function(){var _c$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),a=_c$useLexicalComposer[0];d.useEffect(function(){if(!a.hasNodes([require("LexicalList").ListNode,require("LexicalList").ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor");},[a]);e(a);return null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalMarkdown.prod",["Lexical","LexicalCode","LexicalLink","LexicalList","LexicalRichText","LexicalUtils"],(function $module_LexicalMarkdown_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';function I(a,c){var b={};for(var _iterator=a,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var f=_ref;(a=c(f))&&(b[a]?b[a].push(f):b[a]=[f]);}return b;}function J(a){a=I(a,function(c){return c.type;});return{element:a.element||[],multilineElement:a["multiline-element"]||[],textFormat:a["text-format"]||[],textMatch:a["text-match"]||[]};}var K=/[!-/:-@[-`{-~\s]/,ba=/^\s{0,3}$/;
function L(a){if(!require("Lexical").$isParagraphNode(a))return!1;var c=a.getFirstChild();return null==c||1===a.getChildrenSize()&&require("Lexical").$isTextNode(c)&&ba.test(c.getTextContent());}function ca(a,c){if(c===void 0){c=!1;}var b=J(a),f=[].concat(b.multilineElement,b.element),e=!c,d=b.textFormat.filter(function(g){return 1===g.format.length;});return function(g){var n=[];g=(g||require("Lexical").$getRoot()).getChildren();for(var h=0;h<g.length;h++){var t=g[h],y=da(t,f,d,b.textMatch);null!=y&&n.push(e&&0<h&&!L(t)&&!L(g[h-1])?"\n".concat(y):y);}return n.join("\n");};}
function da(a,c,b,f){for(var _iterator2=c,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref2=_i2.value;}var e=_ref2;if(e["export"]&&(c=e["export"](a,function(d){return M(d,b,f);}),null!=c))return c;}return require("Lexical").$isElementNode(a)?M(a,b,f):require("Lexical").$isDecoratorNode(a)?a.getTextContent():null;}
function M(a,c,b){var f=[];a=a.getChildren();a:for(var _iterator3=a,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++];}else{_i3=_iterator3.next();if(_i3.done)break;_ref3=_i3.value;}var e=_ref3;for(var _iterator4=b,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++];}else{_i4=_iterator4.next();if(_i4.done)break;_ref4=_i4.value;}var d=_ref4;if(d["export"]&&(a=d["export"](e,function(g){return M(g,c,b);},function(g,n){return N(g,n,c);}),null!=a)){f.push(a);continue a;}}require("Lexical").$isLineBreakNode(e)?f.push("\n"):require("Lexical").$isTextNode(e)?f.push(N(e,e.getTextContent(),c)):require("Lexical").$isElementNode(e)?f.push(M(e,c,b)):require("Lexical").$isDecoratorNode(e)&&f.push(e.getTextContent());}return f.join("");}
function N(a,c,b){var f=c.trim(),e=f,d=new Set();for(var _iterator5=b,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++];}else{_i5=_iterator5.next();if(_i5.done)break;_ref5=_i5.value;}var n=_ref5;b=n.format[0];var h=n.tag;if(O(a,b)&&!d.has(b)){d.add(b);var g=P(a,!0);O(g,b)||(e=h+e);g=P(a,!1);O(g,b)||(e+=h);}}return c.replace(f,function(){return e;});}
function P(a,c){var b=c?a.getPreviousSibling():a.getNextSibling();b||(a=a.getParentOrThrow(),a.isInline()&&(b=c?a.getPreviousSibling():a.getNextSibling()));for(;b;){if(require("Lexical").$isElementNode(b)){if(!b.isInline())break;a=c?b.getLastDescendant():b.getFirstDescendant();if(require("Lexical").$isTextNode(a))return a;b=c?b.getPreviousSibling():b.getNextSibling();}if(require("Lexical").$isTextNode(b))return b;if(!require("Lexical").$isElementNode(b))break;}return null;}function O(a,c){return require("Lexical").$isTextNode(a)&&a.hasFormat(c);}
var Q="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ea=Q&&"documentMode"in document?document.documentMode:null;Q&&"InputEvent"in window&&!ea?"getTargetRanges"in new window.InputEvent("input"):!1;
var R=Q&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),S=Q&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,fa=Q&&/^(?=.*Chrome).*/i.test(navigator.userAgent),T=Q&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!fa;
function ha(a,c){if(c===void 0){c=!1;}var b=J(a),f=ia(b.textFormat);return function(e,d){e=e.split("\n");var g=e.length;d=d||require("Lexical").$getRoot();d.clear();for(var u=0;u<g;u++){var n=e[u];a:{var h=e;var t=u,y=b.multilineElement,w=d;for(var _iterator6=y,_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:_iterator6[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref6;if(_isArray6){if(_i6>=_iterator6.length)break;_ref6=_iterator6[_i6++];}else{_i6=_iterator6.next();if(_i6.done)break;_ref6=_i6.value;}var q=_ref6;var _q=q,B=_q.handleImportAfterStartMatch,x=_q.regExpEnd,A=_q.regExpStart,H=_q.replace;if(y=h[t].match(A)){if(B){var m=B({lines:h,rootNode:w,startLineIndex:t,startMatch:y,transformer:q});if(null===m)continue;else if(m){h=m;break a;}}var l="object"===typeof x&&"regExp"in x?x.regExp:x,k=x&&"object"===
typeof x&&"optional"in x?x.optional:!x;m=t;for(var r=h.length;m<r;){var v=l?h[m].match(l):null;if(v||k&&!(k&&m<r-1)){if(v&&t===m&&v.index===y.index)m++;else{l=[];if(v&&t===m)l.push(h[t].slice(y[0].length,-v[0].length));else for(k=t;k<=m;k++){k===t?(r=h[k].slice(y[0].length),l.push(r)):k===m&&v?(r=h[k].slice(0,-v[0].length),l.push(r)):l.push(h[k]);}if(!1!==H(w,null,y,v,l,!0)){h=[!0,m];break a;}break;}}else m++;}}}h=[!1,t];}var _h=h,D=_h[0],C=_h[1];if(D)u=C;else{h=n;m=d;v=b.element;t=f;w=b.textMatch;y=require("Lexical").$createTextNode(h);
n=require("Lexical").$createParagraphNode();n.append(y);m.append(n);for(var _iterator7=v,_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:_iterator7[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref8;if(_isArray7){if(_i7>=_iterator7.length)break;_ref8=_iterator7[_i7++];}else{_i7=_iterator7.next();if(_i7.done)break;_ref8=_i7.value;}var _ref9=_ref8;var B=_ref9.regExp;var x=_ref9.replace;if(m=h.match(B))if(y.setTextContent(h.slice(m[0].length)),!1!==x(n,[y],m,!0))break;}U(y,t,w);n.isAttached()&&0<h.length&&(h=n.getPreviousSibling(),require("Lexical").$isParagraphNode(h)||require("LexicalRichText").$isQuoteNode(h)||require("LexicalList").$isListNode(h))&&(t=h,require("LexicalList").$isListNode(h)&&(h=h.getLastDescendant(),t=null==h?null:require("LexicalUtils").$findMatchingParent(h,require("LexicalList").$isListItemNode)),null!=t&&0<t.getTextContentSize()&&(t.splice(t.getChildrenSize(),0,[require("Lexical").$createLineBreakNode()].concat(n.getChildren())),
n.remove()));}}q=d.getChildren();for(var _iterator8=q,_isArray8=Array.isArray(_iterator8),_i8=0,_iterator8=_isArray8?_iterator8:_iterator8[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref10;if(_isArray8){if(_i8>=_iterator8.length)break;_ref10=_iterator8[_i8++];}else{_i8=_iterator8.next();if(_i8.done)break;_ref10=_i8.value;}var _u=_ref10;!c&&L(_u)&&1<d.getChildrenSize()&&_u.remove();}null!==require("Lexical").$getSelection()&&d.selectStart();};}function U(a,c,b){var f=a.getTextContent();var e=ja(f,c);if(e){var d,g;if(e[0]===f)var n=a;else{var _a$splitText,_a$splitText2;f=e.index||0;var h=f+e[0].length;0===f?(_a$splitText=a.splitText(h),n=_a$splitText[0],d=_a$splitText[1],_a$splitText):(_a$splitText2=a.splitText(f,h),g=_a$splitText2[0],n=_a$splitText2[1],d=_a$splitText2[2],_a$splitText2);}n.setTextContent(e[2]);if(a=c.transformersByTag[e[1]]){for(var _iterator9=a.format,_isArray9=Array.isArray(_iterator9),_i9=0,_iterator9=_isArray9?_iterator9:_iterator9[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref11;if(_isArray9){if(_i9>=_iterator9.length)break;_ref11=_iterator9[_i9++];}else{_i9=_iterator9.next();if(_i9.done)break;_ref11=_i9.value;}var _h2=_ref11;n.hasFormat(_h2)||n.toggleFormat(_h2);}}n.hasFormat("code")||U(n,c,b);g&&U(g,c,b);d&&U(d,c,b);}else ka(a,b);}
function ka(a,c){a:for(;a;){for(var _iterator10=c,_isArray10=Array.isArray(_iterator10),_i10=0,_iterator10=_isArray10?_iterator10:_iterator10[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _a$splitText3,_a$splitText4;var _ref12;if(_isArray10){if(_i10>=_iterator10.length)break;_ref12=_iterator10[_i10++];}else{_i10=_iterator10.next();if(_i10.done)break;_ref12=_i10.value;}var b=_ref12;if(!b.replace||!b.importRegExp)continue;var f=a.getTextContent().match(b.importRegExp);if(!f)continue;var e=f.index||0,d=b.getEndIndex?b.getEndIndex(a,f):e+f[0].length;if(!1===d)continue;var g=void 0,n=void 0;0===e?(_a$splitText3=a.splitText(d),g=_a$splitText3[0],a=_a$splitText3[1],_a$splitText3):(_a$splitText4=a.splitText(e,d),g=_a$splitText4[1],n=_a$splitText4[2],_a$splitText4);n&&ka(n,c);b.replace(g,f);continue a;}break;}}
function ja(a,c){var b=a.match(c.openTagsRegExp);if(null==b)return null;for(var _iterator11=b,_isArray11=Array.isArray(_iterator11),_i11=0,_iterator11=_isArray11?_iterator11:_iterator11[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref13;if(_isArray11){if(_i11>=_iterator11.length)break;_ref13=_iterator11[_i11++];}else{_i11=_iterator11.next();if(_i11.done)break;_ref13=_i11.value;}var d=_ref13;var f=d.replace(/^\s/,"");b=c.fullMatchRegExpByTag[f];if(null!=b&&(b=a.match(b),f=c.transformersByTag[f],null!=b&&null!=f)){if(!1!==f.intraword)return b;var _b=b,_b$index=_b.index,e=_b$index===void 0?0:_b$index;f=a[e-1];e=a[e+b[0].length];if(!(f&&!K.test(f)||e&&!K.test(e)))return b;}}return null;}
function ia(a){var c={},b={},f=[];for(var _iterator12=a,_isArray12=Array.isArray(_iterator12),_i12=0,_iterator12=_isArray12?_iterator12:_iterator12[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref14;if(_isArray12){if(_i12>=_iterator12.length)break;_ref14=_iterator12[_i12++];}else{_i12=_iterator12.next();if(_i12.done)break;_ref14=_i12.value;}var e=_ref14;a=e.tag;c[a]=e;var d=a.replace(/(\*|\^|\+)/g,"\\$1");f.push(d);b[a]=R||S||T?new RegExp("("+d+")(?!["+d+"\\s])(.*?[^"+d+"\\s])"+d+"(?!"+d+")"):new RegExp("(?<![\\\\"+d+"])("+d+")((\\\\"+d+")?.*?[^"+d+"\\s](\\\\"+d+")?)((?<!\\\\)|(?<=\\\\\\\\))("+d+")(?![\\\\"+d+"])");}return{fullMatchRegExpByTag:b,openTagsRegExp:new RegExp((R||S||T?"":"(?<![\\\\])")+"("+f.join("|")+")","g"),transformersByTag:c};}var la;
function V(a){var c=new URLSearchParams();c.append("code",a);for(var b=1;b<arguments.length;b++){c.append("v",arguments[b]);}throw Error("Minified Lexical error #"+a+"; visit https://lexical.dev/docs/error?"+c+" for the full message or "+"use the non-minified dev environment for full errors and additional helpful warnings.");}la=V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V["default"]:V;
function ma(a,c,b){var f=b.length;for(;c>=f;c--){var e=c-f;if(na(a,e,b,0,f)&&" "!==a[e+f])return e;}return-1;}function na(a,c,b,f,e){for(var d=0;d<e;d++){if(a[c+d]!==b[f+d])return!1;}return!0;}
var oa=/^(\s*)(\d{1,})\.\s/,pa=/^(\s*)[-*+]\s/,qa=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,W=/^(#{1,6})\s/,ra=/^>\s/,sa=/^[ \t]*```(\w+)?/,ta=/[ \t]*```$/,ua=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,va=/^(?:\|)(.+)(?:\|)\s?$/,wa=/^(\| ?:?-*:? ?)+\|\s?$/,xa=function xa(a){return function(c,b,f){var _f;f=a(f);(_f=f).append.apply(_f,b);c.replace(f);f.select(0,0);};},X=function X(a){return function(c,b,f){var e=c.getPreviousSibling(),d=c.getNextSibling();var g=require("LexicalList").$createListItemNode("check"===a?"x"===f[3]:void 0);require("LexicalList").$isListNode(d)&&d.getListType()===a?(e=d.getFirstChild(),
null!==e?e.insertBefore(g):d.append(g),c.remove()):require("LexicalList").$isListNode(e)&&e.getListType()===a?(e.append(g),c.remove()):(d=require("LexicalList").$createListNode(a,"number"===a?Number(f[2]):void 0),d.append(g),c.replace(d));g.append.apply(g,b);g.select(0,0);b=f[1];c=b.match(/\t/g);b=b.match(/ /g);f=0;c&&(f+=c.length);b&&(f+=Math.floor(b.length/4));(c=f)&&g.setIndent(c);};},Y=function Y(a,c,b){var f=[];var e=a.getChildren();var d=0;for(var _iterator13=e,_isArray13=Array.isArray(_iterator13),_i13=0,_iterator13=_isArray13?_iterator13:_iterator13[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref15;if(_isArray13){if(_i13>=_iterator13.length)break;_ref15=_iterator13[_i13++];}else{_i13=_iterator13.next();if(_i13.done)break;_ref15=_i13.value;}var n=_ref15;if(require("LexicalList").$isListItemNode(n)){if(1===n.getChildrenSize()&&(e=n.getFirstChild(),require("LexicalList").$isListNode(e))){f.push(Y(e,
c,b+1));continue;}e=" ".repeat(4*b);var g=a.getListType();g="number"===g?a.getStart()+d+". ":"check"===g?"- ["+(n.getChecked()?"x":" ")+"] ":"- ";f.push(e+g+c(n));d++;}}return f.join("\n");},ya={dependencies:[require("LexicalRichText").HeadingNode],"export":function _export(a,c){if(!require("LexicalRichText").$isHeadingNode(a))return null;var b=Number(a.getTag().slice(1));return"#".repeat(b)+" "+c(a);},regExp:W,replace:xa(function(a){return require("LexicalRichText").$createHeadingNode("h"+a[1].length);}),type:"element"},za={dependencies:[require("LexicalRichText").QuoteNode],"export":function _export(a,c){if(!require("LexicalRichText").$isQuoteNode(a))return null;a=c(a).split("\n");
c=[];for(var _iterator14=a,_isArray14=Array.isArray(_iterator14),_i14=0,_iterator14=_isArray14?_iterator14:_iterator14[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref16;if(_isArray14){if(_i14>=_iterator14.length)break;_ref16=_iterator14[_i14++];}else{_i14=_iterator14.next();if(_i14.done)break;_ref16=_i14.value;}var b=_ref16;c.push("> "+b);}return c.join("\n");},regExp:ra,replace:function replace(a,c,b,f){var _b2;if(f&&(b=a.getPreviousSibling(),require("LexicalRichText").$isQuoteNode(b))){b.splice(b.getChildrenSize(),0,[require("Lexical").$createLineBreakNode()].concat(c));b.select(0,0);a.remove();return;}b=require("LexicalRichText").$createQuoteNode();(_b2=b).append.apply(_b2,c);a.replace(b);b.select(0,0);},type:"element"},Aa={dependencies:[require("LexicalCode").CodeNode],"export":function _export(a){if(!require("LexicalCode").$isCodeNode(a))return null;var c=a.getTextContent();return"```"+(a.getLanguage()||"")+(c?"\n"+c:"")+"\n```";},regExpEnd:{optional:!0,regExp:ta},
regExpStart:sa,replace:function replace(a,c,b,f,e,d){if(!c&&e){if(1===e.length)f?(c=require("LexicalCode").$createCodeNode(),b=b[1]+e[0]):(c=require("LexicalCode").$createCodeNode(b[1]),b=e[0].startsWith(" ")?e[0].slice(1):e[0]);else{c=require("LexicalCode").$createCodeNode(b[1]);if(0===e[0].trim().length)for(;0<e.length&&!e[0].length;){e.shift();}else e[0]=e[0].startsWith(" ")?e[0].slice(1):e[0];for(;0<e.length&&!e[e.length-1].length;){e.pop();}b=e.join("\n");}b=require("Lexical").$createTextNode(b);c.append(b);a.append(c);}else c&&xa(function(g){return require("LexicalCode").$createCodeNode(g?g[1]:void 0);})(a,c,b,d);},type:"multiline-element"},
Ba={dependencies:[require("LexicalList").ListNode,require("LexicalList").ListItemNode],"export":function _export(a,c){return require("LexicalList").$isListNode(a)?Y(a,c,0):null;},regExp:pa,replace:X("bullet"),type:"element"},Ca={dependencies:[require("LexicalList").ListNode,require("LexicalList").ListItemNode],"export":function _export(a,c){return require("LexicalList").$isListNode(a)?Y(a,c,0):null;},regExp:qa,replace:X("check"),type:"element"},Da={dependencies:[require("LexicalList").ListNode,require("LexicalList").ListItemNode],"export":function _export(a,c){return require("LexicalList").$isListNode(a)?Y(a,c,0):null;},regExp:oa,replace:X("number"),type:"element"},Ea={format:["code"],tag:"`",type:"text-format"},Ga={format:["highlight"],tag:"==",type:"text-format"},
Ha={format:["bold","italic"],tag:"***",type:"text-format"},Ia={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Ja={format:["bold"],tag:"**",type:"text-format"},Ka={format:["bold"],intraword:!1,tag:"__",type:"text-format"},La={format:["strikethrough"],tag:"~~",type:"text-format"},Ma={format:["italic"],tag:"*",type:"text-format"},Na={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Oa={dependencies:[require("LexicalLink").LinkNode],"export":function _export(a,c,b){if(!require("LexicalLink").$isLinkNode(a))return null;c=(c=a.getTitle())?"["+
a.getTextContent()+"]("+a.getURL()+" \""+c+"\")":"["+a.getTextContent()+"]("+a.getURL()+")";var f=a.getFirstChild();return 1===a.getChildrenSize()&&require("Lexical").$isTextNode(f)?b(f,c):c;},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s\"((?:[^\"]*\\")*[^\"]*)\"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s\"((?:[^\"]*\\")*[^\"]*)\"\s*)?)\))$/,replace:function replace(a,c){var _c=c,b=_c[1],f=_c[2],e=_c[3];c=require("LexicalLink").$createLinkNode(f,{title:e});var d=require("Lexical").$createTextNode(b);d.setFormat(a.getFormat());c.append(d);a.replace(c);},trigger:")",type:"text-match"};
function Pa(a,c){if(c===void 0){c=!1;}a=a.split("\n");var b=!1,f=[];for(var e=0;e<a.length;e++){var d=a[e],g=f[f.length-1];ua.test(d)?f.push(d):sa.test(d)||ta.test(d)?(b=!b,f.push(d)):b?f.push(d):""===d||""===g||!g||W.test(g)||W.test(d)||ra.test(d)||oa.test(d)||pa.test(d)||qa.test(d)||va.test(d)||wa.test(d)||!c?f.push(d):f[f.length-1]=g+d;}return f.join("\n");}var Qa=[ya,za,Ba,Da],Ra=[Aa],Sa=[Ea,Ha,Ia,Ja,Ka,Ga,Ma,Na,La],Ta=[Oa],Z=[].concat(Qa,Ra,Sa,Ta);
exports.$convertFromMarkdownString=function(a,c,b,f,e){if(c===void 0){c=Z;}if(f===void 0){f=!1;}if(e===void 0){e=!1;}a=f?a:Pa(a,e);return ha(c,f)(a,b);};exports.$convertToMarkdownString=function(a,c,b){if(a===void 0){a=Z;}if(b===void 0){b=!1;}return ca(a,b)(c);};exports.BOLD_ITALIC_STAR=Ha;exports.BOLD_ITALIC_UNDERSCORE=Ia;exports.BOLD_STAR=Ja;exports.BOLD_UNDERSCORE=Ka;exports.CHECK_LIST=Ca;exports.CODE=Aa;exports.ELEMENT_TRANSFORMERS=Qa;exports.HEADING=ya;exports.HIGHLIGHT=Ga;exports.INLINE_CODE=Ea;exports.ITALIC_STAR=Ma;exports.ITALIC_UNDERSCORE=Na;exports.LINK=Oa;
exports.MULTILINE_ELEMENT_TRANSFORMERS=Ra;exports.ORDERED_LIST=Da;exports.QUOTE=za;exports.STRIKETHROUGH=La;exports.TEXT_FORMAT_TRANSFORMERS=Sa;exports.TEXT_MATCH_TRANSFORMERS=Ta;exports.TRANSFORMERS=Z;exports.UNORDERED_LIST=Ba;
exports.registerMarkdownShortcuts=function(a,c){if(c===void 0){c=Z;}var b=J(c),f=I(b.textFormat,function(_ref17){var d=_ref17.tag;return d[d.length-1];}),e=I(b.textMatch,function(_ref18){var d=_ref18.trigger;return d;});for(var _iterator15=c,_isArray15=Array.isArray(_iterator15),_i15=0,_iterator15=_isArray15?_iterator15:_iterator15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref19;if(_isArray15){if(_i15>=_iterator15.length)break;_ref19=_iterator15[_i15++];}else{_i15=_iterator15.next();if(_i15.done)break;_ref19=_i15.value;}var d=_ref19;if(c=d.type,"element"===c||"text-match"===c||"multiline-element"===c){c=d.dependencies;for(var _iterator22=c,_isArray22=Array.isArray(_iterator22),_i22=0,_iterator22=_isArray22?_iterator22:_iterator22[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref30;if(_isArray22){if(_i22>=_iterator22.length)break;_ref30=_iterator22[_i22++];}else{_i22=_iterator22.next();if(_i22.done)break;_ref30=_i22.value;}var g=_ref30;a.hasNode(g)||la(173,g.getType());}}}return a.registerUpdateListener(function(_ref20){var d=_ref20.tags,g=_ref20.dirtyLeaves,n=_ref20.editorState,h=_ref20.prevEditorState;if(!d.has("collaboration")&&!d.has("historic")&&!a.isComposing()){var t=n.read(require("Lexical").$getSelection);d=h.read(require("Lexical").$getSelection);
if(require("Lexical").$isRangeSelection(d)&&require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&!t.is(d)){h=t.anchor.key;var y=t.anchor.offset,w=n._nodeMap.get(h);!require("Lexical").$isTextNode(w)||!g.has(h)||1!==y&&y>d.anchor.offset+1||a.update(function(){if(!w.hasFormat("code")){var q=w.getParent();if(null!==q&&!require("LexicalCode").$isCodeNode(q)){var m=t.anchor.offset;b:{var l=b.element;var k=q.getParent();if(require("Lexical").$isRootOrShadowRoot(k)&&q.getFirstChild()===w&&(k=w.getTextContent()," "===k[m-1])){for(var _iterator16=l,_isArray16=Array.isArray(_iterator16),_i16=0,_iterator16=_isArray16?_iterator16:_iterator16[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref22;if(_isArray16){if(_i16>=_iterator16.length)break;_ref22=_iterator16[_i16++];}else{_i16=_iterator16.next();if(_i16.done)break;_ref22=_i16.value;}var _ref23=_ref22;var B=_ref23.regExp;var x=_ref23.replace;if((l=k.match(B))&&l[0].length===(l[0].endsWith(" ")?
m:m-1)){var r=w.getNextSiblings();var _w$splitText=w.splitText(m),A=_w$splitText[0],H=_w$splitText[1];A.remove();r=H?[H].concat(r):r;if(!1!==x(q,r,l,!1)){k=!0;break b;}}}}k=!1;}if(!k){b:{l=b.multilineElement;k=q.getParent();if(require("Lexical").$isRootOrShadowRoot(k)&&q.getFirstChild()===w&&(k=w.getTextContent()," "===k[m-1])){for(var _iterator17=l,_isArray17=Array.isArray(_iterator17),_i17=0,_iterator17=_isArray17?_iterator17:_iterator17[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref25;if(_isArray17){if(_i17>=_iterator17.length)break;_ref25=_iterator17[_i17++];}else{_i17=_iterator17.next();if(_i17.done)break;_ref25=_i17.value;}var _ref26=_ref25;var _B=_ref26.regExpStart;var _x=_ref26.replace;var _A=_ref26.regExpEnd;if(!(_A&&!("optional"in _A)||_A&&"optional"in _A&&!_A.optional)&&(l=k.match(_B))&&l[0].length===(l[0].endsWith(" ")?m:m-1)){r=w.getNextSiblings();var _w$splitText2=w.splitText(m),_H=_w$splitText2[0],Fa=_w$splitText2[1];_H.remove();r=Fa?[Fa].concat(r):
r;if(!1!==_x(q,r,l,null,null,!1)){q=!0;break b;}}}}q=!1;}if(!q){b:{k=w.getTextContent();q=e[k[m-1]];if(null!=q){m<k.length&&(k=k.slice(0,m));for(var _iterator18=q,_isArray18=Array.isArray(_iterator18),_i18=0,_iterator18=_isArray18?_iterator18:_iterator18[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(_isArray18){if(_i18>=_iterator18.length)break;u=_iterator18[_i18++];}else{_i18=_iterator18.next();if(_i18.done)break;u=_i18.value;}if(u.replace&&u.regExp&&(q=k.match(u.regExp),null!==q)){var _w$splitText3,_w$splitText4;k=q.index||0;l=k+q[0].length;var v=void 0;0===k?(_w$splitText3=w.splitText(l),v=_w$splitText3[0],_w$splitText3):(_w$splitText4=w.splitText(k,l),v=_w$splitText4[1],_w$splitText4);v.selectNext(0,0);u.replace(v,q);var u=!0;break b;}}}u=!1;}if(!u)b:if(l=w.getTextContent(),--m,r=l[m],u=f[r]){for(var _iterator19=u,_isArray19=Array.isArray(_iterator19),_i19=0,_iterator19=_isArray19?_iterator19:_iterator19[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref27;if(_isArray19){if(_i19>=_iterator19.length)break;_ref27=_iterator19[_i19++];}else{_i19=_iterator19.next();if(_i19.done)break;_ref27=_i19.value;}var _B2=_ref27;var D=_B2.tag;u=D.length;var _x2=m-u+1;if(!(1<u&&!na(l,_x2,D,0,u)||" "===l[_x2-1])&&(v=l[m+1],
!1!==_B2.intraword||!v||K.test(v))){q=v=w;k=ma(l,_x2,D);for(var C=q;0>k&&(C=C.getPreviousSibling())&&!require("Lexical").$isLineBreakNode(C);){require("Lexical").$isTextNode(C)&&(k=C.getTextContent(),q=C,k=ma(k,k.length,D));}if(!(0>k||q===v&&k+u===_x2||(D=q.getTextContent(),0<k&&D[k-1]===r||(C=D[k-1],!1===_B2.intraword&&C&&!K.test(C))))){l=v.getTextContent();l=l.slice(0,_x2)+l.slice(m+1);v.setTextContent(l);l=q===v?l:D;q.setTextContent(l.slice(0,k)+l.slice(k+u));l=require("Lexical").$getSelection();r=require("Lexical").$createRangeSelection();require("Lexical").$setSelection(r);m=m-u*(q===v?
2:1)+1;r.anchor.set(q.__key,k,"text");r.focus.set(v.__key,m,"text");for(var _iterator20=_B2.format,_isArray20=Array.isArray(_iterator20),_i20=0,_iterator20=_isArray20?_iterator20:_iterator20[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref28;if(_isArray20){if(_i20>=_iterator20.length)break;_ref28=_iterator20[_i20++];}else{_i20=_iterator20.next();if(_i20.done)break;_ref28=_i20.value;}var _A2=_ref28;r.hasFormat(_A2)||r.formatText(_A2);}r.anchor.set(r.focus.key,r.focus.offset,r.focus.type);for(var _iterator21=_B2.format,_isArray21=Array.isArray(_iterator21),_i21=0,_iterator21=_isArray21?_iterator21:_iterator21[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref29;if(_isArray21){if(_i21>=_iterator21.length)break;_ref29=_iterator21[_i21++];}else{_i21=_iterator21.next();if(_i21.done)break;_ref29=_i21.value;}var _A3=_ref29;r.hasFormat(_A3)&&r.toggleFormat(_A3);}require("Lexical").$isRangeSelection(l)&&(r.format=l.format);break b;}}}}}}}}});}}});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalMarkdownShortcutPlugin.prod",["LexicalComposerContext","LexicalHorizontalRuleNode","LexicalMarkdown","react"],(function $module_LexicalMarkdownShortcutPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var _require_closure_react;var f=_require_closure_react||(_require_closure_react=require("react"));var g=[{dependencies:[require("LexicalHorizontalRuleNode").HorizontalRuleNode],"export":function _export(a){return require("LexicalHorizontalRuleNode").$isHorizontalRuleNode(a)?"***":null;},regExp:/^(---|\*\*\*|___)\s?$/,replace:function replace(a,b,k,h){b=require("LexicalHorizontalRuleNode").$createHorizontalRuleNode();h||null!=a.getNextSibling()?a.replace(b):a.insertBefore(b);b.selectNext();},type:"element"}].concat(require("LexicalMarkdown").TRANSFORMERS);exports.DEFAULT_TRANSFORMERS=g;
exports.MarkdownShortcutPlugin=function(_ref){var _ref$transformers=_ref.transformers,a=_ref$transformers===void 0?g:_ref$transformers;var _d$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),b=_d$useLexicalComposer[0];f.useEffect(function(){return require("LexicalMarkdown").registerMarkdownShortcuts(b,a);},[b,a]);return null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalRichTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalRichText","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalRichTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var _require_closure_react;var n=_require_closure_react||(_require_closure_react=require("react")),q=_require_closure_react;var w="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect;function x(a){return a.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(a.isComposing()));}
function y(a){var _n$useState=n.useState(function(){return x(a);}),c=_n$useState[0],b=_n$useState[1];w(function(){function d(){var f=x(a);b(f);}d();return require("LexicalUtils").mergeRegister(a.registerUpdateListener(function(){d();}),a.registerEditableListener(function(){d();}));},[a]);return c;}
function z(a,c){var _n$useState2=n.useState(function(){return a.getDecorators();}),b=_n$useState2[0],d=_n$useState2[1];w(function(){return a.registerDecoratorListener(function(f){require("ReactDOM").flushSync(function(){d(f);});});},[a]);n.useEffect(function(){d(a.getDecorators());},[a]);return n.useMemo(function(){var f=[],r=Object.keys(b);for(var k=0;k<r.length;k++){var l=r[k],B=q.jsx(c,{onError:function onError(A){return a._onError(A);},children:q.jsx(n.Suspense,{fallback:null,children:b[l]})}),t=a.getElementByKey(l);null!==t&&f.push(require("ReactDOM").createPortal(B,t,l));}return f;},[c,b,a]);}
function C(a){w(function(){return require("LexicalUtils").mergeRegister(require("LexicalRichText").registerRichText(a),require("LexicalDragon").registerDragonSupport(a));},[a]);}function D(_ref){var a=_ref.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),c=_e$useLexicalComposer[0];c=y(c);var b=require("useLexicalEditable").useLexicalEditable();return c?"function"===typeof a?a(b):a:null;}exports.RichTextPlugin=function(_ref2){var a=_ref2.contentEditable,_ref2$placeholder=_ref2.placeholder,c=_ref2$placeholder===void 0?null:_ref2$placeholder,b=_ref2.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),d=_e$useLexicalComposer2[0];b=z(d,b);C(d);return q.jsxs(q.Fragment,{children:[a,q.jsx(D,{content:c}),b]});};}),null);
__d("createLexicalLinkNode",["LexicalLink"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("LexicalLink").$createLinkNode(a)}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @generated
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalNodeSelection.prod",["Lexical","LexicalComposerContext","react"],(function $module_useLexicalNodeSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

'use strict';var _require_closure_react;var h=_require_closure_react||(_require_closure_react=require("react"));function k(c,a){return c.getEditorState().read(function(){var g=require("Lexical").$getNodeByKey(a);return null===g?!1:g.isSelected();});}
exports.useLexicalNodeSelection=function(c){var _b$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),a=_b$useLexicalComposer[0],_h$useState=h.useState(function(){return k(a,c);}),g=_h$useState[0],l=_h$useState[1];h.useEffect(function(){var e=!0,d=a.registerUpdateListener(function(){e&&l(k(a,c));});return function(){e=!1;d();};},[a,c]);var m=h.useCallback(function(e){a.update(function(){var d=require("Lexical").$getSelection();require("Lexical").$isNodeSelection(d)||(d=require("Lexical").$createNodeSelection(),require("Lexical").$setSelection(d));require("Lexical").$isNodeSelection(d)&&(e?d.add(c):d["delete"](c));});},[a,c]),n=h.useCallback(function(){a.update(function(){var e=require("Lexical").$getSelection();require("Lexical").$isNodeSelection(e)&&e.clear();});},
[a]);return[g,m,n];};}),null);